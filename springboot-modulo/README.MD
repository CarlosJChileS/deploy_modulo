
# üìö M√≥dulo de Calificaciones ‚Äì Spring Boot

## Descripci√≥n General

Este m√≥dulo, desarrollado en **Java Spring Boot**, forma parte de un sistema backend modular para la gesti√≥n y evaluaci√≥n de presentaciones orales. Permite crear, consultar, actualizar y eliminar calificaciones, criterios de evaluaci√≥n, detalles de calificaci√≥n, feedbacks y par√°metros ideales. Es compatible con bases de datos PostgreSQL (usando Supabase).

---

## üöÄ ¬øC√≥mo inicializar el proyecto?

### 1. Clonar el repositorio

```bash
git clone https://github.com/tuusuario/tu-repo.git
cd springboot-modulo
````

### 2. Instalar dependencias

El proyecto utiliza **Maven** como gestor de dependencias. No necesitas instalar nada extra si usas el wrapper que ya viene en el proyecto.

```bash
./mvnw clean install
```

O si tienes Maven instalado globalmente:

```bash
mvn clean install
```

### 3. Configurar la base de datos

Define las variables de entorno `DB_USERNAME` y `DB_PASSWORD` con las credenciales de tu instancia de PostgreSQL (por ejemplo, Supabase). El archivo `application.properties` lee estas variables autom√°ticamente.

### 4. Levantar el proyecto

```bash
./mvnw spring-boot:run
```

O, si tienes Maven instalado globalmente:

```bash
mvn spring-boot:run
```

El backend estar√° disponible en [http://localhost:8080](http://localhost:8080).

---

## üìÅ Estructura del M√≥dulo

```
/springboot-modulo
‚îÇ
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ controller/         # Controladores REST
‚îÇ   ‚îú‚îÄ‚îÄ service/            # L√≥gica de negocio
‚îÇ   ‚îú‚îÄ‚îÄ repository/         # Interfaces JPA para acceso a datos
‚îÇ   ‚îú‚îÄ‚îÄ model/              # Entidades JPA
‚îÇ   ‚îú‚îÄ‚îÄ dto/                # Objetos de transferencia de datos
‚îÇ   ‚îú‚îÄ‚îÄ mapper/             # Conversores entidad-DTO
‚îÇ   ‚îú‚îÄ‚îÄ config/             # Configuraci√≥n (seguridad, etc.)
‚îÇ
‚îú‚îÄ‚îÄ screenshots/            # Evidencias de pruebas (Postman)
‚îÇ   ‚îú‚îÄ‚îÄ calificacion_delete.png
‚îÇ   ‚îú‚îÄ‚îÄ calificacion_get_delete.png
‚îÇ   ‚îú‚îÄ‚îÄ calificacion_getbyid.png
‚îÇ   ‚îú‚îÄ‚îÄ calificacion_post.png
‚îÇ   ‚îú‚îÄ‚îÄ calificacion_put.png
‚îÇ   ‚îú‚îÄ‚îÄ calificaciones_get.png
‚îÇ   ‚îú‚îÄ‚îÄ get_criterios.png
‚îÇ   ‚îú‚îÄ‚îÄ get_detalles.png
‚îÇ   ‚îú‚îÄ‚îÄ get_parametros_ideales.png
‚îÇ   ‚îú‚îÄ‚îÄ getfeedback.png
‚îÇ   ‚îú‚îÄ‚îÄ post_supabase.png
‚îÇ   ‚îî‚îÄ‚îÄ revision_post.png
‚îÇ
‚îú‚îÄ‚îÄ README.md
‚îî‚îÄ‚îÄ application.properties
```

---

## üåç Contexto Internacional

Este m√≥dulo fue desarrollado para un emprendimiento internacional que automatiza la gesti√≥n de calificaciones en presentaciones orales en instituciones educativas fuera de Ecuador. El enfoque es la adaptabilidad y escalabilidad para contextos internacionales.

---

## üèóÔ∏è Entidades Principales

* **Calificacion:** Evaluaci√≥n global de una grabaci√≥n de presentaci√≥n.
* **CriterioEvaluacion:** Criterios para evaluar presentaciones (claridad, estructura, etc.).
* **DetalleCalificacion:** Detalle individual de calificaci√≥n por criterio.
* **FeedbackCalificacion:** Retroalimentaci√≥n sobre la calificaci√≥n.
* **ParametrosIdeales:** Par√°metros de referencia para la evaluaci√≥n (velocidad, pausas, claridad).

---

## üîí Seguridad

El m√≥dulo est√° protegido con **Spring Security**.

* Autenticaci√≥n: Basic Auth
* Usuario para pruebas:

  * **Username:** `admin`
  * **Password:** `admin123`

---

## üåê Endpoints REST

### Calificaciones

* **GET** `/api/calificaciones` ‚Äì Listar todas
* **GET** `/api/calificaciones/{id}` ‚Äì Buscar por ID
* **POST** `/api/calificaciones` ‚Äì Crear
* **PUT** `/api/calificaciones/{id}` ‚Äì Actualizar
* **DELETE** `/api/calificaciones/{id}` ‚Äì Eliminar
* **POST** `/api/calificaciones/ai` ‚Äì Aplicar calificaci√≥n con IA

### Criterios de Evaluaci√≥n

* **GET** `/api/criterios` ‚Äì Listar todos

### Detalles de Calificaci√≥n

* **GET** `/api/detalles` ‚Äì Listar todos

### Feedback

* **GET** `/api/feedback` ‚Äì Listar todos

### Par√°metros Ideales

* **GET** `/api/parametros-ideales` ‚Äì Listar todos

> **Nota:** Excepto `/api/parametros-ideales`, todos los endpoints requieren autenticaci√≥n Basic Auth.

---

## üß™ Evidencias de Pruebas (Postman)

En la carpeta `/screenshots` se incluyen capturas reales de todas las pruebas realizadas en Postman para cada entidad y operaci√≥n principal del CRUD:

* **GET** de todas las calificaciones
  ![GET Calificaciones](screenshots/calificaciones_get.png)

* **GET** de calificaci√≥n por ID
  ![GET Calificaci√≥n por ID](screenshots/calificacion_getbyid.png)

* **POST** crear nueva calificaci√≥n
  ![POST Calificaci√≥n](screenshots/calificacion_post.png)

* **PUT** editar calificaci√≥n existente
  ![PUT Calificaci√≥n](screenshots/calificacion_put.png)

* **DELETE** calificaci√≥n
  ![DELETE Calificaci√≥n](screenshots/calificacion_delete.png)

* **GET** tras eliminar (comprobar que se borr√≥)
  ![GET tras DELETE](screenshots/calificacion_get_delete.png)

* **GET** todos los criterios de evaluaci√≥n
  ![GET Criterios](screenshots/get_criterios.png)

* **GET** todos los detalles de calificaci√≥n
  ![GET Detalles](screenshots/get_detalles.png)

* **GET** todos los par√°metros ideales
  ![GET Par√°metros Ideales](screenshots/get_parametros_ideales.png)

* **GET** feedbacks
  ![GET Feedback](screenshots/getfeedback.png)

* **POST** Supabase y revisi√≥n
  ![POST Supabase](screenshots/post_supabase.png)
  ![Revisi√≥n POST](screenshots/revision_post.png)


## ‚òÅÔ∏è **Despliegue en Render**

El m√≥dulo fue desplegado correctamente en el hosting gratuito **[Render](https://render.com/)**, lo que permite consumir la API REST desde cualquier parte del mundo.

* **URL p√∫blica del backend:**
  [`https://deploy-modulo.onrender.com`](https://deploy-modulo.onrender.com)

### Endpoints accesibles en producci√≥n

Puedes consumir los endpoints principales desde internet (puedes probarlos con Postman o navegador):

* [`/api/criterios`](https://deploy-modulo.onrender.com/api/criterios)
* [`/api/calificaciones`](https://deploy-modulo.onrender.com/api/calificaciones)

### Evidencias del despliegue

* **Comprobaci√≥n del despliegue en Render**
  ![Comprobaci√≥n despliegue Render](screenshots/comprobaciondespliegueenrender.png)

* **Consumo del endpoint `/api/calificaciones` en producci√≥n**
  ![API Calificaciones Render](screenshots/renderapicalificaciones.png)

* **Consumo del endpoint `/api/criterios` en producci√≥n**
  ![API Criterios Render](screenshots/renderapicriterio.png)

## ‚öôÔ∏è Recomendaciones y Notas

* Aseg√∫rate de que los registros relacionados (usuarios, grabaciones, par√°metros ideales, etc.) existan en la base antes de hacer POST o PUT.
* Las evidencias aqu√≠ mostradas son de rutas realmente probadas con Postman.
* Puedes ampliar este m√≥dulo agregando m√°s l√≥gica de negocio o integraciones seg√∫n las necesidades del proyecto.
* Ahora el m√≥dulo puede combinar calificaciones generadas por IA usando el nuevo m√©todo `aplicarCalificacionAI` en `CalificacionService`.

## ü§ñ Calificaciones asistidas por IA


Cada detalle se promedia con el puntaje manual y se actualiza el `puntajeGlobal` final.

Ejemplo de respuesta luego de aplicar la calificaci√≥n de la IA:

```json
{
  "id": 1,
uhdxmj-codex/add-service-method-for-ai-grades
  "": 7.5,
  "obspuntajeGlobalervacionGlobal": "Buena exposici√≥n"
}
```

Puedes encontrar estos ejemplos en los archivos
`examples/ai_ejemplo_peticion.json` y
`examples/ai_ejemplo_respuesta.json` para utilizarlos directamente con
Postman u otra herramienta de prueba.
=======
  "puntajeGlobal": 7.5
}
```
